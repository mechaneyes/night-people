<!DOCTYPE html>
<html>
<head>
	<title>Parsing JSON 01</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>


<body>
<div id="container"></div>



<script type="text/javascript">

// window.cleanTrend = 'sux';

$(document).ready(function() {

	var cleanTrend;

	$.getJSON("trends.json", function(raw) {
		// console.log(raw.trends[0].name);

		
		// PULLS A RANDOM TRENDING TOPIC FROM OBJECT OF TOPICS AND REMOVES THE '#'
		// -
		// -
		// -
		// console.log(typeof raw.trends);
		(function() {
			var randKey;
			var count = 0;
			for (var prop in raw.trends) {
				if (Math.random() < 1/++count) {
					randKey = prop;
				}
				console.log('raw trend: ' + raw.trends[prop].name);
			}
			var rawTrend = raw.trends[randKey].name;
			cleanTrend = rawTrend.replace('#', '');
			cleanTrend = cleanTrend.replace(' ', '');
			console.log('');
			console.log('clean & random trend: ' + cleanTrend);
			return cleanTrend;
		})();
	});

	console.log('exported clean: ' + cleanTrend);
});
</script>

</body>
</html>